<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog Editor</title>
    <style>
        body { font-family: Arial, sans-serif; background: #0a0a0a; color: #e0e0e0; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; background: #1a1a1a; padding: 30px; }
        h1 { color: #D4AF37; }
        label { display: block; margin: 15px 0 5px; color: #D4AF37; }
        input, textarea { width: 100%; padding: 10px; background: #0a0a0a; border: 1px solid #333; color: #e0e0e0; }
        textarea { min-height: 300px; font-family: monospace; }
        button { background: #D4AF37; color: #0a0a0a; border: none; padding: 15px 30px; font-size: 16px; cursor: pointer; margin-top: 20px; }
        button:hover { background: #c49b2f; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Blog Post Editor</h1>
        
        <label>Title:</label>
        <input type="text" id="title">
        
        <label>Date (YYYY-MM-DD):</label>
        <input type="date" id="date">
        
        <label>HTML Content:</label>
        <textarea id="content"></textarea>
        
        <button onclick="generatePost()">Generate Post</button>
    </div>

    <script>
    if (sessionStorage.getItem('adminAuth') !== 'true') {
        window.location.href = 'index.html';
    }

    document.getElementById('date').valueAsDate = new Date();

    function generatePost() {
        var title = document.getElementById('title').value;
        var date = document.getElementById('date').value;
        var content = document.getElementById('content').value;
        
        if (!title || !date || !content) {
            alert('Fill in all fields');
            return;
        }
        
        var slug = title.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-+|-+$/g, '');
        var filename = date + '-' + slug + '.html';
        
        var html = '<!DOCTYPE html>\n<html>\n<head>\n<meta charset="UTF-8">\n<title>' + title + '</title>\n<link rel="stylesheet" href="../css/style.css">\n</head>\n<body>\n<h1>' + title + '</h1>\n<p>' + date + '</p>\n' + content + '\n</body>\n</html>';
        
        var blob = new Blob([html], {type: 'text/html'});
        var url = URL.createObjectURL(blob);
        var a = document.createElement('a');
        a.href = url;
        a.download = filename;
        a.click();
        URL.revokeObjectURL(url);
        
        alert('Downloaded: ' + filename);
    }
    </script>
</body>
</html>
